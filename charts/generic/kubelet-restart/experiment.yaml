apiVersion: litmuschaos.io/v1alpha1
kind: ChaosExperiment
metadata:
  name: kubelet-restart
  namespace: litmus
spec:
  definition:
    scope: Cluster
    permissions:
      - apiGroups: [""]
        resources: ["pods", "nodes"]
        verbs: ["create", "list", "get", "delete"]
    image: litmuschaos/go-runner:latest
    args:
      - "bash /path/to/your/job.yaml"
    command:
      - /bin/bash
    env:
      - name: TOTAL_CHAOS_DURATION
        value: "10"
    labels:
      name: kubelet-restart
    components:
      experimentImage: "alpine:latest"
      runner:
        image: "litmuschaos/chaos-runner:2.7.0"
    experimentResources:
      - name: job-template
        resource: job.yaml
